#include "main.h"
#include "bsp.h"

#include "led_control.h"

const u16 XinNianHao[30][3]= \
{\
	{1,1,200},\
	{1,1,200},\
	{1,1,400},\
	{0,5,400},\
	
	{1,3,200},\
	{1,3,200},\
	{1,3,400},\
	{1,1,400},\
	
	{1,1,200},\
	{1,3,200},\
	{1,5,400},\
	{1,5,400},\
	
	{1,4,200},\
	{1,3,200},\
	{1,2,400*2},\
//	{1,2},\
	
	
	{1,2,200},\
	{1,3,200},\
	{1,4,400},\
	{1,4,400},\
	
	{1,3,200},\
	{1,2,200},\
	{1,3,400},\
	{1,1,400},\
	
	{1,1,200},\
	{1,3,200},\
	{1,2,400},\
	{0,5,400},\
	
	{0,7,200},\
	{1,2,200},\
	{1,1,400*2},\
//	{1,1},
};\

const u16 HuanLeSong[62][3]= \
{\
	{1,3,400},\
	{1,3,400},\
	{1,4,400},\
	{1,5,400},\
	
	{1,5,400},\
	{1,4,200},\
	{1,3,400},\
	{1,2,400},\
	
	{1,1,400},\
	{1,1,400},\
	{1,2,400},\
	{1,3,400},\
	
	{1,3,400},\
//	{1,3,200},
	{1,2,200},\
	{1,2,600},\
	
	
	{1,3,400},\
	{1,3,400},\
	{1,4,400},\
	{1,5,400},\
	
	{1,5,400},\
	{1,4,200},\
	{1,3,400},\
	{1,2,400},\
	
	{1,1,400},\
	{1,1,400},\
	{1,2,400},\
	{1,3,400},\
	
	{1,2,400},\
	{1,2,200},\
	{1,1,600},\
//	{1,1},
	
	{1,2,400},\
	{1,2,400},\
	{1,3,400},\
	{1,1,400},\
	
	{1,2,400},\
	{1,3,200},\
	{1,4,200},\
	{1,3,400},\
	{1,1,400},\
	
	{1,2,400},\
	{1,3,200},\
	{1,4,200},\
	{1,3,400},\
	{1,2,400},\
	
	{1,1,400},\
	{1,2,400},\
	{0,5,600},\
	
	{1,3,400},\
	{1,3,400},\
	{1,4,400},\
	{1,5,400},\
	
	{1,5,400},\
	{1,4,200},\
	{1,3,400},\
	{1,2,400},\
	
	{1,1,400},\
	{1,1,400},\
	{1,2,400},\
	{1,3,400},\
	
	{1,2,400},\
	{1,2,200},\
	{1,1,600},\
};\


const u16 LiangLiang[33+37][3]= \
{\
	{0,6,300},\
	{1,3,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,300},\
	{1,5,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,600},\
	{0,6,750},\
	
	{0,7,300},\
	{0,7,300},\
	{0,7,300},\
	{1,1,300},\
	{0,7,300},\
	{0,3,600},\
	{0,5,300},\
	{0,6,300},\
	{0,5,900},\
	
	{0,6,300},\
	{1,3,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,300},\
	{1,5,300},\
	{1,3,600},\
	
	{1,2,300},\
	{1,3,300},\
	{1,5,300},\
	{1,5,300},\
	{1,6,750},\
	{1,5,600},\
	{1,6,900},\
	
	{0,6,300},\
	{1,3,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,300},\
	{1,5,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,600},\
	{0,6,750},\

	{0,7,300},\
	{0,7,300},\
	{0,7,300},\
	{1,1,300},\
	{0,7,300},\
	{0,3,600},\
	{0,5,300},\
	{0,6,300},\
	{0,5,900},\
	
	{0,6,300},\
	{1,3,300},\
	{1,3,300},\
	{1,2,300},\
	{1,3,300},\
	{1,5,300},\

	{2,1,300},\
	{1,7,300},\
	{1,6,300},\
	{1,5,300},\
	{1,3,600},\
	{1,5,600},\
	{1,6,600},\
	{1,3,600},\
	{1,5,300},\
	{1,3,300},\
	{1,5,300},\
	{1,6,900},\
};\


const u16 Star_Sky[86][3]=\
{\
	{2,6,400},\
	{2,3,400},\
	{2,3,400},\
	{2,3,200},\
	{2,2,200},\
	{2,3,800},\
	
	{2,1,200},\
	{2,2,200},\
	{2,3,200},\
	{2,5,200},\
	{2,6,400},\
	{2,3,400},\
	{2,3,400},\
	{2,3,200},\
	{2,2,200},\
	{2,1,800},\
	
	{2,1,200},\
	{2,2,200},\
	{2,3,200},\
	{2,5,200},\
	{2,2,400},\
	{2,2,400},\
	{2,2,400},\
	{2,2,200},\
	{2,1,200},\
	{2,2,800},\
	
	{1,7,200},\
	{2,1,200},\
	{2,2,200},\
	{2,5,200},\
	{2,3,200},\
	{2,2,200},\
	{2,3,400},\
	{2,1,400},\
	{2,3,400},\
	{2,2,200},\
	{2,1,200},\
	{2,2,400},\
	{2,7,400},\
	{2,5,400},\
	{1,6,400},\
	{1,3,400},\
	{1,3,400},\
	{1,3,200},\
	{1,2,200},\
	{1,3,800},\
	
	{1,1,200},\
	{1,2,200},\
	{1,3,200},\
	{1,5,200},\
	{1,6,400},\
	{1,3,400},\
	{1,3,400},\
	{1,3,200},\
	{1,2,200},\
	{1,1,800},\
	
	{1,1,200},\
	{1,2,200},\
	{1,3,200},\
	{1,5,200},\
	{1,2,400},\
	{1,2,400},\
	{1,2,400},\
	{1,2,200},\
	{1,1,200},\
	{1,2,800},\
	
	{0,7,200},\
	{1,1,200},\
	{1,2,200},\
	{1,5,200},\
	{1,3,200},\
	{1,2,200},\
	{1,3,400},\
	{2,1,400},\
	{1,3,400},\
	
	{1,2,200},\
	{1,1,200},\
	{1,2,400},\
	{1,7,400},\
	{1,5,400},\
	{2,3,800},\
	
	{1,6,800},\
	
	{2,1,1200},\
	
	{2,3,800},\
	
	{2,3,400},\
	
	{2,6,400},\

	
};\

 
s8 led_num=0;

int main(void)
{
	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//设置系统中断优先级分组2

	BSP_Init();

	for(int i=0;i<40;i++)	//86
	{
		if(led_num<8)
		led_num+=3;
		
		buzzer_on(TIM12->ARR/50);
		Buzzer_SetFre(10-1,pre_calc(Star_Sky[i][0],Star_Sky[i][1]));
		delay_ms(Star_Sky[i][2]);
		buzzer_off();
		delay_ms(30);
		if((i+1)%4==1)
		{
		//	delay_ms(80); 
		}
	}

	GREEN=0;
	
	LED_Blink_Set(1,8);
	
	
while(1)
	{
//		Green_LED_8_SetNum(3);
		if(time_1ms_count%1000==0)
		{
			led_num=8;
		}
		
	}
	
}
